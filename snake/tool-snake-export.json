[{"id":"snake","user_id":"418fe105-9a5c-4772-bec2-8b50817310d0","name":"üêç Snake Mini Game","content":"\"\"\"\ntitle: üêç Snake Mini Game\nauthor: Helmi Chaouachi\ngit_url: https://github.com/Helmi97/open-webui-extensions/tree/main/snake\ndescription: A minimalist Snake mini game tool with WASD controls.\nrequired_open_webui_version: 0.4.0\nrequirements:\nversion: 1.2.0\nlicence: MIT\n\"\"\"\n\nfrom fastapi.responses import HTMLResponse\nfrom pydantic import BaseModel, Field\n\n\nclass Tools:\n    class Valves(BaseModel):\n        speed: float = Field(\n            default=1.0,\n            ge=0.5,\n            le=2.0,\n            description=\"Initial speed multiplier (0.5x to 2.0x).\",\n        )\n        wrap_mode: bool = Field(\n            default=False,\n            description=\"Start with wrap-around walls enabled.\",\n        )\n        cols: int = Field(\n            default=46,\n            ge=20,\n            le=200,\n            description=\"Initial number of columns in the grid (width).\",\n        )\n        rows: int = Field(\n            default=20,\n            ge=10,\n            le=40,\n            description=\"Initial number of rows in the grid (height).\",\n        )\n        cell_size: int = Field(\n            default=18,\n            ge=10,\n            le=40,\n            description=\"Pixel size of each grid cell.\",\n        )\n        save_scores: bool = Field(\n            default=True,\n            description=\"Persist best score in browser localStorage.\",\n        )\n        difficulty: str = Field(\n            default=\"normal\",\n            description=\"Difficulty preset (affects base speed).\",\n            json_schema_extra={\"enum\": [\"easy\", \"normal\", \"hard\"]},\n        )\n\n    def __init__(self):\n        self.valves = self.Valves()\n\n    def start_snake_game(self) -> HTMLResponse:\n        v = self.valves\n\n        html_content = f\"\"\"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Snake Mini Game</title>\n  <style>\n    * {{\n      box-sizing: border-box;\n      font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n    }}\n\n    body {{\n      margin: 0;\n      padding: 10px;\n      background: #020617;\n      color: #e5e7eb;\n      display: flex;\n      justify-content: center;\n    }}\n\n    .wrapper {{\n      width: 100%;\n      max-width: 1100px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }}\n\n    h1 {{\n      margin: 0 0 4px 0;\n      font-size: 16px;\n      text-align: center;\n      color: #e5e7eb;\n    }}\n\n    .subtitle {{\n      margin: 0 0 8px 0;\n      font-size: 11px;\n      text-align: center;\n      color: #9ca3af;\n    }}\n\n    .game-card {{\n      position: relative;\n      max-width: 100%;\n      border-radius: 12px;\n      padding: 10px;\n      background: radial-gradient(circle at top, #1f2937 0, #020617 55%);\n      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.7);\n      transition: box-shadow 0.2s ease-out;\n    }}\n\n    .game-card.focused {{\n      box-shadow:\n        0 0 18px rgba(16, 185, 129, 0.45),\n        0 0 6px rgba(16, 185, 129, 0.6),\n        0 10px 24px rgba(0, 0, 0, 0.7);\n    }}\n\n    .hud {{\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 6px;\n      font-size: 12px;\n      color: #d1d5db;\n      gap: 8px;\n      flex-wrap: wrap;\n    }}\n\n    .hud-left {{\n      display: flex;\n      flex-direction: column;\n      gap: 2px;\n    }}\n\n    .hud-row {{\n      display: flex;\n      align-items: center;\n      gap: 6px;\n      flex-wrap: wrap;\n    }}\n\n    .pill {{\n      padding: 2px 8px;\n      border-radius: 999px;\n      border: 1px solid rgba(52, 211, 153, 0.7);\n      background: rgba(6, 95, 70, 0.2);\n      font-size: 11px;\n      color: #a7f3d0;\n    }}\n\n    .btn {{\n      font-size: 11px;\n      padding: 3px 9px;\n      border-radius: 999px;\n      border: 1px solid #4b5563;\n      background: #020617;\n      color: #e5e7eb;\n      cursor: pointer;\n      white-space: nowrap;\n    }}\n    .btn:hover {{\n      background: #030712;\n    }}\n\n    .icon-btn {{\n      width: 22px;\n      height: 22px;\n      border-radius: 999px;\n      border: 1px solid #4b5563;\n      background: #020617;\n      color: #9ca3af;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 12px;\n      cursor: pointer;\n      padding: 0;\n    }}\n    .icon-btn:hover {{\n      background: #030712;\n      color: #e5e7eb;\n    }}\n\n    .canvas-wrapper {{\n      position: relative;\n      border-radius: 10px;\n      overflow: hidden;\n      border: 1px solid #1f2933;\n      background: #020617;\n      /* width and height set by JS via canvas size */\n    }}\n\n    canvas {{\n      display: block;\n    }}\n\n    .status {{\n      margin-top: 6px;\n      font-size: 15px;\n      color: #9ca3af;\n      text-align: center;\n    }}\n\n    .overlay {{\n      position: absolute;\n      inset: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      pointer-events: none; /* keep this */\n    }}\n    \n    .overlay-content {{\n      padding: 6px 12px;\n      border-radius: 999px;\n      background: rgba(15, 23, 42, 0.8);\n      border: 1px solid rgba(248, 250, 252, 0.15);\n      font-size: 12px;\n      color: #e5e7eb;\n      backdrop-filter: blur(3px);\n    \n      display: inline-flex;\n      align-items: center;\n      gap: 8px;\n    \n      pointer-events: auto;\n    }}\n\n    .settings-backdrop {{\n      position: absolute;\n      inset: 0;\n      display: none;\n      align-items: center;\n      justify-content: center;\n      background: rgba(15, 23, 42, 0.75);\n      backdrop-filter: blur(4px);\n      z-index: 30;\n    }}\n\n    .settings-modal {{\n      width: 260px;\n      max-width: 90%;\n      border-radius: 12px;\n      background: #020617;\n      border: 1px solid #1f2937;\n      padding: 10px 12px 12px;\n      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.8);\n      font-size: 11px;\n    }}\n\n    .settings-header {{\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 6px;\n    }}\n\n    .settings-title {{\n      font-size: 12px;\n      font-weight: 500;\n      color: #e5e7eb;\n    }}\n\n    .settings-body {{\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      margin-bottom: 8px;\n    }}\n\n    .settings-row {{\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 6px;\n    }}\n\n    .settings-row label {{\n      color: #9ca3af;\n      font-size: 11px;\n    }}\n\n    .settings-row input[type=\"number\"],\n    .settings-row select {{\n      font-size: 11px;\n      padding: 2px 4px;\n      border-radius: 6px;\n      border: 1px solid #4b5563;\n      background: #020617;\n      color: #e5e7eb;\n      width: 70px;\n    }}\n\n    .settings-row input[type=\"range\"] {{\n      flex: 1;\n    }}\n\n    .settings-row .speed-value {{\n      width: 40px;\n      text-align: right;\n      color: #e5e7eb;\n      font-variant-numeric: tabular-nums;\n    }}\n\n    .settings-footer {{\n      display: flex;\n      justify-content: flex-end;\n      gap: 6px;\n    }}\n\n    .settings-row input[type=\"checkbox\"] {{\n      transform: scale(0.88);\n    }}\n  </style>\n</head>\n<body>\n  <div class=\"wrapper\">\n    <h1>üêç Snake üêç</h1>\n    <div class=\"game-card\" id=\"game-card\">\n      <div class=\"hud\">\n        <div class=\"hud-left\">\n          <div class=\"hud-row\">\n            <span>Score: <span id=\"score\">0</span></span>\n            <span>¬∑</span>\n            <span>Best: <span id=\"best\">0</span></span>\n          </div>\n        </div>\n        <div style=\"display:flex; align-items:center; gap:6px;\">\n          <button class=\"icon-btn\" id=\"settings-btn\" title=\"Settings\">‚öô</button>\n          <button class=\"icon-btn\" id=\"restart-btn\" title=\"Restart\">‚Üª</button>\n        </div>\n      </div>\n\n      <div class=\"canvas-wrapper\" id=\"canvas-wrapper\">\n        <canvas id=\"game\"></canvas>\n        <div class=\"overlay\" id=\"overlay\" style=\"display:none;\">\n          <div class=\"overlay-content\">\n            <span id=\"overlay-label\">Game over</span>\n            <button class=\"btn\" id=\"overlay-restart\">‚Üª</button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"status\" id=\"status\">\n        Press üÖÜ üÑ∞ üÖÇ üÑ≥ to start, Space to pause\n      </div>\n\n      <div class=\"settings-backdrop\" id=\"settings-backdrop\">\n        <div class=\"settings-modal\" id=\"settings-modal\">\n          <div class=\"settings-header\">\n            <div class=\"settings-title\">Settings</div>\n            <button class=\"icon-btn\" id=\"settings-close\" title=\"Close\">‚úï</button>\n          </div>\n          <div class=\"settings-body\">\n            <div class=\"settings-row\">\n              <label for=\"difficulty-input\">Difficulty</label>\n              <select id=\"difficulty-input\">\n                <option value=\"easy\">Easy</option>\n                <option value=\"normal\">Normal</option>\n                <option value=\"hard\">Hard</option>\n              </select>\n            </div>\n            <div class=\"settings-row\">\n              <label for=\"speed-input\">Speed</label>\n              <input id=\"speed-input\" type=\"range\" min=\"0.5\" max=\"2.0\" step=\"0.1\" />\n              <div class=\"speed-value\" id=\"speed-value\">1.0x</div>\n            </div>\n            <div class=\"settings-row\">\n              <label for=\"wrap-input\">Wrap walls</label>\n              <input id=\"wrap-input\" type=\"checkbox\" />\n            </div>\n            <div class=\"settings-row\">\n              <label for=\"cols-input\">Cols</label>\n              <input id=\"cols-input\" type=\"number\" min=\"20\" max=\"200\" />\n            </div>\n            <div class=\"settings-row\">\n              <label for=\"rows-input\">Rows</label>\n              <input id=\"rows-input\" type=\"number\" min=\"10\" max=\"40\" />\n            </div>\n            <div class=\"settings-row\">\n              <label for=\"cell-size-input\">Cell size</label>\n              <input id=\"cell-size-input\" type=\"number\" min=\"10\" max=\"40\" />\n            </div>\n            <div class=\"settings-row\">\n              <label for=\"save-scores-input\">Save best score</label>\n              <input id=\"save-scores-input\" type=\"checkbox\" />\n            </div>\n          </div>\n          <div class=\"settings-footer\">\n            <button class=\"btn\" id=\"settings-apply\">Apply</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    (function () {{\n      const TOOL_DEFAULTS = {{\n        speed: {v.speed},\n        wrapMode: {str(v.wrap_mode).lower()},\n        cols: {v.cols},\n        rows: {v.rows},\n        cellSize: {v.cell_size},\n        saveScores: {str(v.save_scores).lower()},\n        difficulty: \"{v.difficulty.lower()}\",\n      }};\n\n      const STORAGE_KEY = \"snake_best_v1\";\n\n      const gameCard = document.getElementById(\"game-card\");\n      const canvasWrapper = document.getElementById(\"canvas-wrapper\");\n      const canvas = document.getElementById(\"game\");\n      const scoreEl = document.getElementById(\"score\");\n      const bestEl = document.getElementById(\"best\");\n      const statusEl = document.getElementById(\"status\");\n      const restartBtn = document.getElementById(\"restart-btn\");\n      const overlay = document.getElementById(\"overlay\");\n      const overlayLabel = document.getElementById(\"overlay-label\");\n      const overlayRestart = document.getElementById(\"overlay-restart\");\n\n\n      const settingsBtn = document.getElementById(\"settings-btn\");\n      const settingsBackdrop = document.getElementById(\"settings-backdrop\");\n      const settingsClose = document.getElementById(\"settings-close\");\n      const settingsApply = document.getElementById(\"settings-apply\");\n\n      const difficultyInput = document.getElementById(\"difficulty-input\");\n      const speedInput = document.getElementById(\"speed-input\");\n      const speedValue = document.getElementById(\"speed-value\");\n      const wrapInput = document.getElementById(\"wrap-input\");\n      const colsInput = document.getElementById(\"cols-input\");\n      const rowsInput = document.getElementById(\"rows-input\");\n      const cellSizeInput = document.getElementById(\"cell-size-input\");\n      const saveScoresInput = document.getElementById(\"save-scores-input\");\n\n      const MIN_COLS_HARD_LIMIT = 20;\n      const MIN_ROWS_HARD_LIMIT = 10;\n\n      const BASE_TICK_BY_DIFF = {{\n        easy: 130,\n        normal: 110,\n        hard: 90,\n      }};\n\n      let ctx;\n      let snake;\n      let direction;\n      let nextDirection;\n      let food;\n      let score = 0;\n      let best = 0;\n      let running = false;\n      let paused = false;\n      let lastTick = 0;\n      let gameOverFlag = false;\n\n      let cols = Math.max(MIN_COLS_HARD_LIMIT, TOOL_DEFAULTS.cols || MIN_COLS_HARD_LIMIT);\n      let rows = Math.max(MIN_ROWS_HARD_LIMIT, TOOL_DEFAULTS.rows || 20);\n      let cellSize = TOOL_DEFAULTS.cellSize || 18;\n      let currentSpeed = TOOL_DEFAULTS.speed || 1.0;\n      let wrapMode = !!TOOL_DEFAULTS.wrapMode;\n      let saveScores = !!TOOL_DEFAULTS.saveScores;\n      let difficulty = [\"easy\",\"normal\",\"hard\"].includes(TOOL_DEFAULTS.difficulty) ? TOOL_DEFAULTS.difficulty : \"normal\";\n      let tickMs = 110;\n\n      function updateTiming() {{\n        const base = BASE_TICK_BY_DIFF[difficulty] || BASE_TICK_BY_DIFF.normal;\n        tickMs = base / (currentSpeed || 1.0);\n      }}\n\n      function setupCanvas() {{\n        const widthPx = cols * cellSize;\n        const heightPx = rows * cellSize;\n\n        canvas.width = widthPx;\n        canvas.height = heightPx;\n        canvasWrapper.style.width = widthPx + \"px\";\n        canvasWrapper.style.height = heightPx + \"px\";\n\n        ctx = canvas.getContext(\"2d\");\n      }}\n\n      function syncSettingsUI() {{\n        difficultyInput.value = difficulty;\n        speedInput.value = currentSpeed.toFixed(1);\n        speedValue.textContent = currentSpeed.toFixed(1) + \"x\";\n        wrapInput.checked = wrapMode;\n        colsInput.value = cols.toString();\n        rowsInput.value = rows.toString();\n        cellSizeInput.value = cellSize.toString();\n        saveScoresInput.checked = saveScores;\n      }}\n\n      function loadBestFromStorage() {{\n        if (!saveScores || !(\"localStorage\" in window)) return;\n        try {{\n          const raw = window.localStorage.getItem(STORAGE_KEY);\n          const n = raw ? parseInt(raw, 10) : NaN;\n          if (!Number.isNaN(n) && n > 0) {{\n            best = n;\n            bestEl.textContent = best.toString();\n          }}\n        }} catch (_) {{}}\n      }}\n\n      function saveBestToStorage() {{\n        if (!saveScores || !(\"localStorage\" in window)) return;\n        try {{\n          window.localStorage.setItem(STORAGE_KEY, String(best));\n        }} catch (_) {{}}\n      }}\n\n      function resetGame() {{\n        const midRow = Math.floor(rows / 2);\n        const midCol = Math.floor(cols / 2);\n\n        snake = [\n          {{ x: midCol - 1, y: midRow }},\n          {{ x: midCol,     y: midRow }},\n        ];\n\n        direction = {{ x: 1, y: 0 }};\n        nextDirection = {{ x: 1, y: 0 }};\n\n        score = 0;\n        scoreEl.textContent = score.toString();\n\n        running = false;\n        paused = false;\n        gameOverFlag = false;\n        lastTick = 0;\n\n        statusEl.textContent = \"Press üÖÜ üÑ∞ üÖÇ üÑ≥ to start, Space to pause\";\n\n        overlay.style.display = \"none\";\n\n        spawnFood();\n        draw();\n      }}\n\n      function spawnFood() {{\n        while (true) {{\n          const x = Math.floor(Math.random() * cols);\n          const y = Math.floor(Math.random() * rows);\n          if (!snake.some(seg => seg.x === x && seg.y === y)) {{\n            food = {{ x, y }};\n            break;\n          }}\n        }}\n      }}\n\n      function setDirection(dx, dy) {{\n        if (direction && dx === -direction.x && dy === -direction.y) return;\n\n        if (gameOverFlag) resetGame();\n\n        nextDirection = {{ x: dx, y: dy }};\n\n        if (!running) {{\n          running = true;\n          paused = false;\n          statusEl.textContent = wrapMode\n            ? \"Wrap mode on. Avoid your own tail.\"\n            : \"Avoid the walls and your own tail.\";\n        }}\n      }}\n\n      function handleKey(e) {{\n        const key = e.key.toLowerCase();\n\n        if (key === \" \") {{\n          if (running && !gameOverFlag) {{\n            paused = !paused;\n\n            if (paused) {{\n              statusEl.textContent = \"Paused - press Space to resume\";\n            }} else {{\n              statusEl.textContent = wrapMode\n                ? \"Wrap mode on. Avoid your own tail.\"\n                : \"Avoid the walls and your own tail.\";\n            }}\n          }}\n          return;\n        }}\n\n        if (key === \"w\") setDirection(0, -1);\n        else if (key === \"s\") setDirection(0, 1);\n        else if (key === \"a\") setDirection(-1, 0);\n        else if (key === \"d\") setDirection(1, 0);\n      }}\n\n      function update() {{\n        direction = nextDirection;\n        const head = snake[snake.length - 1];\n        let newHead = {{\n          x: head.x + direction.x,\n          y: head.y + direction.y,\n        }};\n\n        if (wrapMode) {{\n          newHead.x = (newHead.x + cols) % cols;\n          newHead.y = (newHead.y + rows) % rows;\n        }} else {{\n          if (\n            newHead.x < 0 ||\n            newHead.y < 0 ||\n            newHead.x >= cols ||\n            newHead.y >= rows\n          ) {{\n            gameOver();\n            return;\n          }}\n        }}\n\n        if (snake.some(seg => seg.x === newHead.x && seg.y === newHead.y)) {{\n          gameOver();\n          return;\n        }}\n\n        snake.push(newHead);\n\n        if (newHead.x === food.x && newHead.y === food.y) {{\n          score += 1;\n          scoreEl.textContent = score.toString();\n          if (score > best) {{\n            best = score;\n            bestEl.textContent = best.toString();\n            saveBestToStorage();\n          }}\n          spawnFood();\n        }} else {{\n          snake.shift();\n        }}\n      }}\n\n      function gameOver() {{\n        running = false;\n        paused = false;\n        gameOverFlag = true;\n\n        statusEl.textContent = \"You crashed - press Restart or üÖÜ üÑ∞ üÖÇ üÑ≥ to try again\";\n\n        overlayLabel.textContent = \"Game over\";\n        overlay.style.display = \"flex\";\n\n      }}\n\n      function drawCell(x, y, color) {{\n        ctx.fillStyle = color;\n        ctx.fillRect(x * cellSize, y * cellSize, cellSize, cellSize);\n      }}\n\n      function drawGrid() {{\n        ctx.strokeStyle = \"rgba(15, 23, 42, 0.7)\";\n        ctx.lineWidth = 1;\n\n        ctx.beginPath();\n        for (let i = 0; i <= cols; i++) {{\n          const p = Math.round(i * cellSize) + 0.5;\n          ctx.moveTo(p, 0);\n          ctx.lineTo(p, canvas.height);\n        }}\n        for (let j = 0; j <= rows; j++) {{\n          const p = Math.round(j * cellSize) + 0.5;\n          ctx.moveTo(0, p);\n          ctx.lineTo(canvas.width, p);\n        }}\n        ctx.stroke();\n      }}\n\n      function draw() {{\n        if (!ctx || !snake || !food) return;\n\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        const gradient = ctx.createRadialGradient(\n          canvas.width * 0.5,\n          canvas.height * 0.2,\n          0,\n          canvas.width * 0.5,\n          canvas.height * 0.5,\n          canvas.width * 0.8\n        );\n        gradient.addColorStop(0, \"#020617\");\n        gradient.addColorStop(1, \"#020617\");\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        drawGrid();\n        drawCell(food.x, food.y, \"#22c55e\");\n\n        for (let i = 0; i < snake.length; i++) {{\n          const seg = snake[i];\n          const isHead = i === snake.length - 1;\n          drawCell(seg.x, seg.y, isHead ? \"#fbbf24\" : \"#38bdf8\");\n        }}\n      }}\n\n      function loop(timestamp) {{\n        requestAnimationFrame(loop);\n\n        if (!running || paused) {{\n          draw();\n          return;\n        }}\n\n        const delta = timestamp - lastTick;\n        if (delta >= tickMs) {{\n          lastTick = timestamp;\n          update();\n          draw();\n        }}\n      }}\n\n      function openSettings() {{\n        paused = true;\n        settingsBackdrop.style.display = \"flex\";\n        syncSettingsUI();\n      }}\n\n      function closeSettings() {{\n        settingsBackdrop.style.display = \"none\";\n      }}\n\n      settingsBtn.addEventListener(\"click\", openSettings);\n      settingsClose.addEventListener(\"click\", closeSettings);\n      settingsBackdrop.addEventListener(\"click\", (e) => {{\n        if (e.target === settingsBackdrop) closeSettings();\n      }});\n\n      speedInput.addEventListener(\"input\", () => {{\n        const v = parseFloat(speedInput.value) || 1.0;\n        speedValue.textContent = v.toFixed(1) + \"x\";\n      }});\n\n      settingsApply.addEventListener(\"click\", () => {{\n        const newDiff = difficultyInput.value;\n        difficulty = [\"easy\",\"normal\",\"hard\"].includes(newDiff) ? newDiff : difficulty;\n\n        const newSpeed = parseFloat(speedInput.value);\n        if (!Number.isNaN(newSpeed) && newSpeed >= 0.5 && newSpeed <= 2.0) {{\n          currentSpeed = newSpeed;\n        }}\n\n        wrapMode = wrapInput.checked;\n\n        const newCols = parseInt(colsInput.value, 10);\n        if (!Number.isNaN(newCols) && newCols >= MIN_COLS_HARD_LIMIT && newCols <= 200) {{\n          cols = newCols;\n        }}\n\n        const newRows = parseInt(rowsInput.value, 10);\n        if (!Number.isNaN(newRows) && newRows >= MIN_ROWS_HARD_LIMIT && newRows <= 40) {{\n          rows = newRows;\n        }}\n\n        const newCellSize = parseInt(cellSizeInput.value, 10);\n        if (!Number.isNaN(newCellSize) && newCellSize >= 10 && newCellSize <= 40) {{\n          cellSize = newCellSize;\n        }}\n\n        saveScores = saveScoresInput.checked;\n\n        updateTiming();\n        setupCanvas();\n        resetGame();\n        loadBestFromStorage();\n        closeSettings();\n      }});\n\n      restartBtn.addEventListener(\"click\", () => {{\n        resetGame();\n      }});\n\n      overlayRestart.addEventListener(\"click\", () => {{\n        resetGame();\n      }});\n\n\n      window.addEventListener(\"keydown\", handleKey);\n\n      window.addEventListener(\"blur\", () => {{\n        gameCard.classList.remove(\"focused\");\n\n        if (running && !gameOverFlag) {{\n          paused = true;\n          statusEl.textContent = \"Out of focus - click back to resume\";\n        }}\n      }});\n\n      window.addEventListener(\"focus\", () => {{\n        gameCard.classList.add(\"focused\");\n\n        if (paused && running && !gameOverFlag) {{\n          paused = false;\n          statusEl.textContent = wrapMode\n            ? \"Wrap mode on. Avoid your own tail.\"\n            : \"Avoid the walls and your own tail.\";\n        }}\n      }});\n\n      // Init\n      updateTiming();\n      setupCanvas();\n      resetGame();\n      loadBestFromStorage();\n      requestAnimationFrame(loop);\n    }})();\n  </script>\n</body>\n</html>\"\"\"\n\n        headers = {\n            \"Content-Disposition\": \"inline\",\n            \"Content-Type\": \"text/html; charset=utf-8\",\n        }\n        return HTMLResponse(content=html_content, headers=headers)\n","specs":[{"name":"start_snake_game","description":"","parameters":{"properties":{},"type":"object"}}],"meta":{"description":"snake_mini_game","manifest":{"title":"üêç Snake Mini Game","author":"Helmi Chaouachi","git_url":"https://github.com/Helmi97/open-webui-extensions/tree/main/snake","description":"A minimalist Snake mini game tool with WASD controls.","required_open_webui_version":"0.4.0","requirements":"","version":"1.2.0","licence":"MIT"}},"access_control":{},"updated_at":1765322580,"created_at":1765322544}]